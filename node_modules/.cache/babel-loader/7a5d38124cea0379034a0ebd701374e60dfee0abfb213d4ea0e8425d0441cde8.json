{"ast":null,"code":"var _jsxFileName = \"G:\\\\React App\\\\MuErp\\\\MUCampus\\\\New folder\\\\metro-uni-admin-panel\\\\src\\\\pages\\\\Students\\\\Account.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Lock, PlusCircle, AlertCircle } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\nexport default function Account({\n  studentId,\n  account,\n  token,\n  accountExists,\n  onAccountCreated\n}) {\n  console.log(\"Account\");\n  console.log(account);\n  console.log(accountExists);\n  /*const [account, setAccount] = useState({\r\n    loginID: \"\",\r\n    usr_active: true,\r\n  });*/\n\n  /* =========================\r\n     LOAD ACCOUNT\r\n  ========================= */\n  /*useEffect(() => {\r\n    if (!accountExists) return;\r\n      const loadAccount = async () => {\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/v1/admin/student-users/${studentId}`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n        const data = await res.json();\r\n      setAccount({\r\n        loginID: data.loginID || \"\",\r\n        usr_active: Boolean(data.usr_active),\r\n      });\r\n    };\r\n      loadAccount();\r\n  }, [studentId, token, accountExists]);*/\n\n  /* =========================\r\n     CREATE ACCOUNT\r\n  ========================= */\n  const createAccount = async () => {\n    const res = await fetch(`${API_BASE_URL}/api/v1/admin/student-users/${studentId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        usr_active: true\n      })\n    });\n    if (res.ok) {\n      alert(\"✅ Account created successfully\");\n      onAccountCreated();\n    } else {\n      alert(\"❌ Failed to create account\");\n    }\n  };\n\n  /* =========================\r\n     UI\r\n  ========================= */\n  if (!accountExists) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-card warning\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u26A0\\uFE0F No user account exists for this student.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: createAccount,\n        children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), \" Create Account\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Account Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Login ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), \" \", account.login_id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), \" \", account.usr_active ? \"Active\" : \"Inactive\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n/* =========================\r\n   PASSWORD SUB-COMPONENT\r\n========================= */\n_c = Account;\nAccount.Password = _s(function PasswordTab({\n  studentId,\n  token\n}) {\n  _s();\n  const [password, setPassword] = useState({\n    new: \"\",\n    confirm: \"\"\n  });\n  const resetPassword = async () => {\n    if (password.new !== password.confirm) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n    await fetch(`${API_BASE_URL}/api/v1/admin/student-users/${studentId}/password`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        password: password.new\n      })\n    });\n    alert(\"Password reset successful\");\n    setPassword({\n      new: \"\",\n      confirm: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [/*#__PURE__*/_jsxDEV(Lock, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), \" Reset Password\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"New password\",\n      value: password.new,\n      onChange: e => setPassword({\n        ...password,\n        new: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Confirm password\",\n      value: password.confirm,\n      onChange: e => setPassword({\n        ...password,\n        confirm: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: resetPassword,\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), \" Reset Password\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}, \"javLW08N6PTkVigLUd0eYl2Xp0U=\");\nvar _c;\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"names":["useEffect","useState","Lock","PlusCircle","AlertCircle","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_URL","Account","studentId","account","token","accountExists","onAccountCreated","console","log","createAccount","res","fetch","method","headers","Authorization","body","JSON","stringify","usr_active","ok","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","login_id","_c","Password","_s","PasswordTab","password","setPassword","new","confirm","resetPassword","type","placeholder","value","onChange","e","target","$RefreshReg$"],"sources":["G:/React App/MuErp/MUCampus/New folder/metro-uni-admin-panel/src/pages/Students/Account.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Lock, PlusCircle, AlertCircle } from \"lucide-react\";\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport default function Account({\r\n  studentId,\r\n  account,\r\n  token,\r\n  accountExists,\r\n  onAccountCreated,\r\n}) {\r\n  console.log(\"Account\");\r\n  console.log(account);\r\n  console.log(accountExists);\r\n  /*const [account, setAccount] = useState({\r\n    loginID: \"\",\r\n    usr_active: true,\r\n  });*/\r\n  \r\n  /* =========================\r\n     LOAD ACCOUNT\r\n  ========================= */\r\n  /*useEffect(() => {\r\n    if (!accountExists) return;\r\n\r\n    const loadAccount = async () => {\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/v1/admin/student-users/${studentId}`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      const data = await res.json();\r\n      setAccount({\r\n        loginID: data.loginID || \"\",\r\n        usr_active: Boolean(data.usr_active),\r\n      });\r\n    };\r\n\r\n    loadAccount();\r\n  }, [studentId, token, accountExists]);*/\r\n\r\n  /* =========================\r\n     CREATE ACCOUNT\r\n  ========================= */\r\n  const createAccount = async () => {\r\n    const res = await fetch(\r\n      `${API_BASE_URL}/api/v1/admin/student-users/${studentId}`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ usr_active: true }),\r\n      }\r\n    );\r\n\r\n    if (res.ok) {\r\n      alert(\"✅ Account created successfully\");\r\n      onAccountCreated();\r\n    } else {\r\n      alert(\"❌ Failed to create account\");\r\n    }\r\n  };\r\n\r\n  /* =========================\r\n     UI\r\n  ========================= */\r\n  if (!accountExists) {\r\n    return (\r\n      <div className=\"profile-card warning\">\r\n        <p>⚠️ No user account exists for this student.</p>\r\n        <button className=\"btn-primary\" onClick={createAccount}>\r\n          <PlusCircle size={16} /> Create Account\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-card\">\r\n      <h3>Account Information</h3>\r\n      <p>\r\n        <strong>Login ID:</strong> {account.login_id}\r\n      </p>\r\n      <p>\r\n        <strong>Status:</strong>{\" \"}\r\n        {account.usr_active ? \"Active\" : \"Inactive\"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* =========================\r\n   PASSWORD SUB-COMPONENT\r\n========================= */\r\nAccount.Password = function PasswordTab({ studentId, token }) {\r\n  const [password, setPassword] = useState({ new: \"\", confirm: \"\" });\r\n\r\n  const resetPassword = async () => {\r\n    if (password.new !== password.confirm) {\r\n      alert(\"Passwords do not match\");\r\n      return;\r\n    }\r\n\r\n    await fetch(\r\n      `${API_BASE_URL}/api/v1/admin/student-users/${studentId}/password`,\r\n      {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ password: password.new }),\r\n      }\r\n    );\r\n\r\n    alert(\"Password reset successful\");\r\n    setPassword({ new: \"\", confirm: \"\" });\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-card\">\r\n      <h3>\r\n        <Lock size={16} /> Reset Password\r\n      </h3>\r\n\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"New password\"\r\n        value={password.new}\r\n        onChange={(e) =>\r\n          setPassword({ ...password, new: e.target.value })\r\n        }\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Confirm password\"\r\n        value={password.confirm}\r\n        onChange={(e) =>\r\n          setPassword({ ...password, confirm: e.target.value })\r\n        }\r\n      />\r\n      <button onClick={resetPassword}>\r\n        <AlertCircle size={16} /> Reset Password\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}